import{r as s,a as h,u as b,j as e}from"./index-CKabC7_y.js";import{g as f}from"./apiConfig-ClF-BgST.js";const w=()=>{const[n,u]=s.useState(""),[i,g]=s.useState(""),[l,a]=s.useState(null),[d,c]=s.useState(!1),{login:m}=h(),x=b(),p=async t=>{t.preventDefault(),c(!0);try{const r=await fetch(`${f()}/auth/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})});if(r.ok){const o=await r.json();m(o.token),a(null),x("/home")}else{const o=await r.json();a(o.message||"Hubo un error al iniciar sesión.")}}catch(r){a("Hubo un problema con la conexión al servidor"),console.error("Error de conexión:",r)}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen px-6 flex items-center justify-center bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:e.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-lg shadow-lg w-full sm:w-96",children:[e.jsx("h2",{className:"text-4xl text-gray-800 text-center font-bold mb-6",children:"Login"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"text-gray-800 text-sm font-semibold",children:"Email"}),e.jsx("input",{id:"email",type:"email",placeholder:"Enter your email",value:n,onChange:t=>u(t.target.value),className:"w-full p-3 mt-2 bg-gray-100 text-gray-800 rounded-lg border-2 border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-200",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"text-gray-800 text-sm font-semibold",children:"Password"}),e.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:t=>g(t.target.value),className:"w-full p-3 mt-2 bg-gray-100 text-gray-800 rounded-lg border-2 border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-200",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:d,children:d?"Cargando...":"Log In"})]}),l&&e.jsx("div",{className:"text-red-500 text-center mt-4",children:l}),e.jsxs("p",{className:"text-gray-800 text-sm text-center mt-4",children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"text-indigo-400 hover:text-indigo-500",children:"Register"})]})]})})};export{w as default};
