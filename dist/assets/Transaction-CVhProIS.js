import{j as e,b as u,a as f,u as p,r as j}from"./index-D7RVNCsT.js";import{c as t,d as o,b as v,f as N,e as g,B as y}from"./Formtater-B22nCtMi.js";import{g as b}from"./apiConfig-ClF-BgST.js";import{S as H,A as S}from"./Snackbar-H9IEqhk3.js";import"./Grow-TGcDOy1M.js";const M=t(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),V=t(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),w=t(e.jsx("path",{d:"M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17m9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m1.5-6H6V6h12z"}),"DirectionsBus"),z=t(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),E=t([e.jsx("path",{d:"M21 14c0-.55-.45-1-1-1h-2v2h2c.55 0 1-.45 1-1m-1 3h-2v2h2c.55 0 1-.45 1-1s-.45-1-1-1m-8-3h-2v4h2c0 1.1.9 2 2 2h3v-8h-3c-1.1 0-2 .9-2 2"},"0"),e.jsx("path",{d:"M5 13c0-1.1.9-2 2-2h1.5c1.93 0 3.5-1.57 3.5-3.5S10.43 4 8.5 4H5c-.55 0-1 .45-1 1s.45 1 1 1h3.5c.83 0 1.5.67 1.5 1.5S9.33 9 8.5 9H7c-2.21 0-4 1.79-4 4s1.79 4 4 4h2v-2H7c-1.1 0-2-.9-2-2"},"1")],"ElectricalServices"),C=t(e.jsx("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4z"}),"LocalHospital"),D=t(e.jsx("path",{d:"M1 5h14l-6 9v4h2v2H5v-2h2v-4zm9.1 4 1.4-2H4.49l1.4 2zM17 5h5v3h-3v9c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3c.35 0 .69.06 1 .17z"}),"Nightlife"),L=t(e.jsx("path",{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4"}),"Restaurant"),T=t(e.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),A=t(e.jsx("path",{d:"m21.58 16.09-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91M11 11H9v2H8v-2H6v-1h2V8h1v2h2zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"SportsEsports"),k=({category:a})=>a==="Servicios"?e.jsx(E,{className:"text-gray-500"}):a==="Comida"?e.jsx(L,{className:"text-gray-500"}):a==="Transporte"?e.jsx(w,{className:"text-gray-500"}):a==="Salud"?e.jsx(C,{className:"text-gray-500"}):a==="Educación"?e.jsx(T,{className:"text-gray-500"}):a==="Entretenimiento"?e.jsx(A,{className:"text-gray-500"}):a==="Ocio"?e.jsx(D,{className:"text-gray-500"}):e.jsx(M,{className:"text-gray-500"}),c=({label:a,value:l})=>e.jsxs("div",{className:"w-full flex flex-row justify-between",children:[e.jsx("h1",{children:a}),e.jsx("h1",{className:"font-medium",children:l??"Desconocido"})]}),$=()=>{const a=u(),{token:l}=f(),i=p(),{transaction:s}=a.state||{transaction:null},[h,r]=j.useState(!1);if(!s)return e.jsx("div",{children:"No se encontró la transacción"});const x=async d=>{d.preventDefault();try{const n=await fetch(`${b()}/transactions/${s.id}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(n.ok)r(!0),i("/month",{state:{month:parseFloat(s.accounting_date.slice(5,7)),year:s.accounting_date.slice(0,4)}});else{const m=await n.json();console.error("Error al eliminar:",m)}}catch(n){console.error("Error de conexión:",n)}};return e.jsxs("div",{className:"w-full min-h-screen pt-8 pb-16 px-5 md:px-72 flex flex-col justify-start items-center space-y-8",children:[e.jsx("h1",{className:"text-xl font-bold",children:"WalletSheet"}),e.jsx("h1",{className:"text-sm",children:o(s.accounting_date)}),e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex flex-col items-center justify-center",children:e.jsx(k,{category:s.category.name})}),e.jsx("h1",{className:"font-medium",children:s.concept}),e.jsx("h1",{className:"font-medium text-lg",children:v(Number(s.amount))}),e.jsxs("form",{className:"w-full",children:[e.jsxs("div",{className:"w-full flex flex-row justify-center space-x-8 pb-8",children:[e.jsx("div",{onClick:()=>i("/transaction/edit",{state:{transaction:s}}),className:"w-12 h-12 bg-gray-100 hover:bg-gray-200 rounded-full flex flex-col items-center justify-center cursor-pointer",children:e.jsx(z,{className:"text-gray-700"})}),e.jsx("div",{onClick:x,className:"w-12 h-12 bg-red-100 hover:bg-red-200 rounded-full flex flex-col items-center justify-center cursor-pointer",children:e.jsx(V,{className:"text-red-700"})})]}),e.jsx(H,{open:h,autoHideDuration:3e3,onClose:()=>r(!1),children:e.jsx(S,{onClose:()=>r(!1),severity:"success",sx:{width:"100%"},children:"¡Transacción eliminada con éxito!"})})]}),e.jsxs("div",{className:"w-full flex flex-col space-y-4 pb-20",children:[e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[e.jsx(c,{label:"Fecha de transacción",value:o(s.transaction_date)}),e.jsx(c,{label:"Fecha de aplicación",value:o(s.accounting_date)}),e.jsx(c,{label:"Cuenta de banco",value:s.account.bank_name}),e.jsx(c,{label:"Tipo de cuenta",value:N(s.account.type)}),e.jsx(c,{label:"Tipo de movimiento",value:g(s.type)}),e.jsx(c,{label:"Lugar",value:s.place})]}),e.jsxs("div",{className:"w-full flex flex-col space-y-2",children:[e.jsx("h1",{children:"Notas"}),e.jsx("h1",{className:"font-medium",children:s.note||"Sin notas"})]})]}),e.jsx(y,{})]})};export{$ as default};
